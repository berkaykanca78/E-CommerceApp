<div class="dashboard-content">
    <div class="content-body">
      <!-- Pagination Component with Custom Grid Template -->
      <app-pagination
        [data]="products"
        [columns]="columns"
        [categories]="categories"
        [viewMode]="viewMode"
        [showViewToggle]="true"
        [title]="'Product Management'"
        [pageSizeOptions]="[6, 12, 18, 24]"
        [totalItems]="products.length"
        [showAddButton]="true"
        [addButtonIcon]="'fas fa-plus'"
        (viewModeChange)="onViewModeChange($event)"
        (paginatedDataChange)="onPaginatedDataChange($event)"
        (addButtonClick)="addProduct()"
        [loading]="loading"
        [error]="error"
        [loadingText]="'Loading products...'"
        [searchPlaceholder]="'Search products...'"
        [emptyStateIcon]="'fas fa-box'"
        [emptyStateTitle]="'No products found'"
        [emptyStateMessage]="'Try adjusting your search or filter criteria'"
        [paginationLabel]="'Products pagination'"
        (editItem)="editProduct($event)"
        (toggleStatus)="toggleStatus($event)"
        (deleteItem)="deleteProduct($event)">
        
        <!-- Custom Grid Template -->
        <div grid-template class="row g-4 mb-4">
          <div class="col-lg-4 col-md-6 col-sm-12" *ngFor="let product of paginatedProducts; trackBy: trackByProductId">
            <div class="card h-100 shadow-sm hover-card">
              <div class="badge position-absolute top-0 end-0 m-2 z-1" 
                   [class.bg-success]="product.isActive" 
                   [class.bg-danger]="!product.isActive">
                {{product.isActive ? 'Active' : 'Inactive'}}
              </div>
              <div class="card-img-container">
                <img [src]="product.imageUrl || 'https://via.placeholder.com/300x200'" [alt]="product.name">
              </div>
              <div class="card-body">
                <h5 class="card-title">{{product.name}}</h5>
                <p class="card-text text-muted small">{{product.description}}</p>
                <div class="mb-2">
                  <span class="badge bg-info">{{product.category}}</span>
                </div>
                <div class="d-flex justify-content-between align-items-center mb-2">
                  <div>
                    <span class="text-success fw-bold">${{product.price}}</span>
                  </div>
                  <div>
                    <span class="badge" 
                          [class.bg-success]="product.stock > 10"
                          [class.bg-warning]="product.stock > 0 && product.stock <= 10"
                          [class.bg-danger]="product.stock === 0">
                      Stock: {{product.stock}}
                    </span>
                  </div>
                </div>
                <small class="text-muted">Created: {{product.createdDate | date:'dd/MM/yyyy'}}</small>
              </div>
              <div class="card-footer bg-white border-top-0">
                <div class="btn-group w-100" role="group">
                  <button class="btn btn-outline-primary btn-sm" (click)="editProduct(product)">
                    <i class="fas fa-edit"></i> Edit
                  </button>
                  <button class="btn btn-sm" 
                          [class.btn-outline-success]="!product.isActive"
                          [class.btn-outline-warning]="product.isActive"
                          (click)="toggleStatus(product)">
                    <i class="fas" 
                       [class.fa-eye]="!product.isActive"
                       [class.fa-eye-slash]="product.isActive"></i>
                    {{product.isActive ? 'Deactivate' : 'Activate'}}
                  </button>
                  <button class="btn btn-outline-danger btn-sm" (click)="deleteProduct(product)">
                    <i class="fas fa-trash"></i> Delete
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
        
      </app-pagination>
    </div>
  </div>